<!DOCTYPE html>
<html>
<head>
	<title>Fleet management</title>
</head>
<body>
	<script type="text/javascript">
		var optionsBoolTrue = '<option value="true">True</option>';
		var optionsBoolFalse = '<option value="false">False</option>';

		function createNewForm(id) {
			if (id == undefined) {let id = 'undefinedNewForm'};
			document.body.innerHTML += '<form id=' + id +'>Metro number: <input type="text" name="id" disabled><br>Type: <input type="text" name="type" disabled><br>Passengers: <input type="text" name="passengers" disabled><br>Passengers: <input type="text" name="passengers" disabled><br>Panto: <input type="text" name="panto" disabled><br>Active services: <select name="activeService"></select></form>';
		};
		function Metro(id, type, passengers, panto, activeService) {
			this.id = id;
			this.type = type;
			this.passengers = passengers;
			this.panto = panto;
			this.activeService = activeService;

			let objectName = 'metro' + this.id;

			this.setActiveService = function(serviceBool) {
				if (serviceBool == true || serviceBool == false) {
					this.activeService = serviceBool;
				}
			}
			this.createForm = function() { // Create form or update a form if exist
				if (document.getElementById(objectName) == null) {
					createNewForm(objectName);
				}
				let parent = document.getElementById(objectName);

				parent.getElementsByName("id")[0].setAttribute("value", this.id);
				parent.getElementsByName("type")[0].setAttribute("value", this.type);
				parent.getElementsByName("passengers")[0].setAttribute("value", this.passengers);
				parent.getElementsByName("panto")[0].setAttribute("value", this.panto);
			}
		};
		// function createMetroObject(id, type, passengers, panto, activeService) {
		// 	var ('metro' + id) = new Metro(id, type, passengers, panto, activeService);
		// };		
	</script>
	<script type="text/javascript">
		var metro5401 = new Metro(5401, 'SG2/1', 150, true, true);
		var metro5301 = new Metro(5301, 'MG2/1', 150, false, true);
		// window.onload = function() {
		// 	document.getElementsByName("id")[0].setAttribute("value", metro5401.id);
		// 	document.getElementsByName("type")[0].setAttribute("value", metro5401.type);
		// 	document.getElementsByName("passengers")[0].setAttribute("value", metro5401.passengers);
		// 	document.getElementsByName("panto")[0].setAttribute("value", metro5401.panto);
		// }
	</script>
	<form>
		Metro number: <input type="text" name="id" disabled><br>
		Type: <input type="text" name="type" disabled><br>
		Passengers: <input type="text" name="passengers" disabled><br>
		Panto: <input type="text" name="panto" disabled><br>
		Active services: <select name="activeService"></select>
	</form> 
</body>
</html>